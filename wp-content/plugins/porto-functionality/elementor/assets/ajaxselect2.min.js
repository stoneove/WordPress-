jQuery(window).on("elementor:init",(function(){var e=jQuery,t=elementor.modules.controls.BaseData.extend({onReady:function(){var t=this,n=t.ui.select,a=n.attr("data-ajax-url"),o=n.attr("data-condition");if(n.select2({ajax:{url:a,dataType:"json",data:function(e){var t={s:e.term};if(void 0===n.attr("multiple")&&(t.add_default="1"),o)if("archive_builder"==o)t.condition=elementor.settings.page.model.get("archive_preview_type");else{var a={},i=n.closest(".elementor-repeater-fields");if(i.length&&(a=i.find('select[data-setting="'+o+'"]')),0==a.length&&(a=jQuery('select[data-setting="'+o+'"]')),a.length)t.condition=a.val();else for(key in elementor.selection.elements){condition_value=elementor.selection.elements[key].settings.attributes[o],condition_value&&(t.condition=condition_value);break}}return t}},cache:!0}),!n.closest(".elementor-hidden-control").length){var i=void 0!==t.getControlValue()?t.getControlValue():"";i.isArray&&(i=t.getControlValue().join());var l={ids:String(i)};e.ajax({url:a,dataType:"json",data:l}).then((function(t){null!==t&&t.results.length>0&&(e.each(t.results,(function(e,t){n.append(new Option(t.text,t.id,!0,!0)).trigger("change")})),n.trigger({type:"select2:select",params:{data:t}}))}))}},onBeforeDestroy:function(){this.ui.select.data("select2")&&this.ui.select.select2("destroy"),this.$el.remove()}});elementor.addControlView("porto_ajaxselect2",t)}));